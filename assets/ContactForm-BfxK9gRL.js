import{r as h,b as P,j as s,g as f,S as N}from"./index-CASoMd2X.js";class g{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const R=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:R()},p=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},L=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=p(e);a.publicKey=r.publicKey,a.blockHeadless=r.blockHeadless,a.storageProvider=r.storageProvider,a.blockList=r.blockList,a.limitRate=r.limitRate,a.origin=r.origin||t},y=async(e,t,r={})=>{const i=await fetch(a.origin+e,{method:"POST",headers:r,body:t}),o=await i.text(),n=new g(i.status,o);if(i.ok)return n;throw n},x=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},F=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},w=e=>e.webdriver||!e.languages||e.languages.length===0,v=()=>new g(451,"Unavailable For Headless Browser"),H=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},E=e=>!e.list?.length||!e.watchVariable,_=(e,t)=>e instanceof FormData?e.get(t):e[t],j=(e,t)=>{if(E(e))return!1;H(e.list,e.watchVariable);const r=_(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},k=()=>new g(403,"Forbidden"),q=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},V=async(e,t,r)=>{const i=Number(await r.get(e)||0);return t-Date.now()+i},S=async(e,t,r)=>{if(!t.throttle||!r)return!1;q(t.throttle,t.id);const i=t.id||e;return await V(i,t.throttle,r)>0?!0:(await r.set(i,Date.now().toString()),!1)},T=()=>new g(429,"Too Many Requests"),M=async(e,t,r,i)=>{const o=p(i),n=o.publicKey||a.publicKey,d=o.blockHeadless||a.blockHeadless,b=o.storageProvider||a.storageProvider,l={...a.blockList,...o.blockList},m={...a.limitRate,...o.limitRate};return d&&w(navigator)?Promise.reject(v()):(x(n,e,t),F(r),r&&j(l,r)?Promise.reject(k()):await S(location.pathname,m,b)?Promise.reject(T()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},K=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},C=e=>typeof e=="string"?document.querySelector(e):e,D=async(e,t,r,i)=>{const o=p(i),n=o.publicKey||a.publicKey,d=o.blockHeadless||a.blockHeadless,b=a.storageProvider||o.storageProvider,l={...a.blockList,...o.blockList},m={...a.limitRate,...o.limitRate};if(d&&w(navigator))return Promise.reject(v());const c=C(r);x(n,e,t),K(c);const u=new FormData(c);return j(l,u)?Promise.reject(k()):await S(location.pathname,m,b)?Promise.reject(T()):(u.append("lib_version","4.4.1"),u.append("service_id",e),u.append("template_id",t),u.append("user_id",n),y("/api/v1.0/email/send-form",u))},B={init:L,send:M,sendForm:D,EmailJSResponseStatus:g};f.registerPlugin(N);const A=()=>{const[e,t]=h.useState(null),[r,i]=h.useState(null),[o,n]=h.useState(!1),d=h.useRef(null);P(()=>{if(window.innerWidth<768)return;const l=d.current;l&&f.fromTo(l,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:l,start:"top 80%",toggleActions:"play none none reverse"}})},{scope:d});const b=async l=>{l.preventDefault(),n(!0);const m=l.currentTarget;try{const c=new FormData(m);await B.send("service_9cl5aab","template_tu53b3a",{name:c.get("name"),email:c.get("email"),phone:c.get("phone"),message:c.get("message")},"ka0DqePCARb2emEeH"),t("¡Correo enviado con éxito!"),i(null),m.reset(),setTimeout(()=>t(null),4e3)}catch(c){console.error("EmailJS Error:",c),i("Hubo un error al enviar el correo. Intenta de nuevo."),t(null),setTimeout(()=>i(null),4e3)}finally{n(!1)}};return s.jsxs("section",{ref:d,id:"Formulario",className:"relative z-10 scroll-mt-28 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-10 lg:mb-20 mt-20 p-8 sm:p-10 rounded-xl border border-cyan-500 bg-black backdrop-blur-md shadow-xl",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-8 text-center text-white",children:"Contáctame"}),e&&s.jsx("div",{className:"mb-4 p-3 bg-cyan-500/20 border border-cyan-400 text-cyan-200 rounded transition-all",children:e}),r&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-400 text-red-200 rounded transition-all",children:r}),s.jsxs("form",{onSubmit:b,className:"space-y-6 text-white",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-semibold",children:"Nombre"}),s.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Tu nombre",required:!0,className:"w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block mb-2 text-sm font-semibold",children:"Teléfono"}),s.jsx("input",{id:"phone",name:"phone",type:"tel",placeholder:"Tu teléfono",className:"w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-semibold",children:"Correo"}),s.jsx("input",{id:"email",name:"email",type:"email",placeholder:"correo@ejemplo.com",required:!0,className:"w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-semibold",children:"Mensaje"}),s.jsx("textarea",{id:"message",name:"message",placeholder:"Escribe tu mensaje aquí...",rows:6,required:!0,className:"w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"})]})]}),s.jsx("div",{className:"flex justify-center md:justify-end mt-4",children:s.jsx("button",{type:"submit",disabled:o,className:"bg-cyan-500 hover:bg-cyan-600 px-8 py-3 rounded-lg font-bold text-white text-lg transition-transform duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Enviando...":"Enviar"})})]})]})};export{A as default};
